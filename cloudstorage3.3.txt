install cloudstorage 3.3 on linux mint 64

become root
auser@mint64 su 
mint64 auser # 

Install pre-requisites
 
mint64 auser # apt-get install php-apc php-db php5 php5-ffmpeg php5-gd php5-mysql php5-suhosin ffmpeg mysql-server mysql-client php-pear libipc-sharedcache-perl libterm-readkey-perl tinyca wget 

You should be prompted during install for the MySQL root user information. You can make whatever you like, but this example just used root as the username.

Start mysql client as root user, then create the database and user for the cloudstorage system.

mint64 auser # mysql -p
Enter password: 
Welcome to the MySQL monitor.  ... 

mysql> CREATE DATABASE cloudstorage
mysql> CREATE USER 'cloudstorage'@'localhost' IDENTIFIED BY 'password';
mysql> GRANT ALL PRIVILEGES ON cloudstorage.* TO 'cloudstorage'@'localhost' WITH GRANT OPTION;
mysql> quit
Bye

Move to the default web directory and install cloudstorage.
mint64 auser # cd /var/www
mint64 www # 
mint64 www # wget http://downloads.sourceforge.net/project/cloudstorage/CloudStorage-3.3.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fcloudstorage%2F&ts=1344960579&use_mirror=voxel

It downloaded with a very strange name so I changed it.
mint64 www # mv CloudStorage-3.3.zip\?r\=http\:%2F%2Fsourceforge.net%2Fprojects%2Fcloudstorage%2F cloudstorage-3.3.zip

mint64 www # unzip cloudstorage-3.3.zip

I did not like the capital letters because it makes it hard to find on the web browser sometimes so I renamed the installation folder.

mint64 www # mv CloudStorage-3.3/ cloudstorage3.3
mint64 www # cd cloudstorage3.3

According to the README.txt, one should "... make this entire directory CHMOD 777 recursivesly for an easy install." That seems a little unreasonable in today's age. So I tried to rig up permissions my own way.

There are several file types in the program. Some of these are dangerous to give write access to everyone. htaccess, sql, gif, jpg, png, css, js, php, swf, txt


The directories that need to read from everyone, and some flash files that play music in the browser. Those should really not be writeable from the outside world. Thinking that since the webserver is owning everything under this directory, I just let the world read and execute those files.
mint64 cloudstorage3.3 # find ./ -type d -exec chmod 755 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.swf' -exec chmod 755 {} \;


I think php files and images only need to read from outside, and read/write by the owner. 
mint64 cloudstorage3.3 # find ./ -type f -name '*.css' -exec chmod 644 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.gif' -exec chmod 644 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.jpg' -exec chmod 644 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.js' -exec chmod 644 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.php' -exec chmod 644 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.png' -exec chmod 644 {} \;


In this system, I don't know why text files and the sql data should be even visible from outside. 
mint64 cloudstorage3.3 # find ./ -type f -name '*.txt' -exec chmod 600 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.sql' -exec chmod 600 {} \;
mint64 cloudstorage3.3 # find ./ -type f -name '*.htaccess' -exec chmod 600 {} \;







